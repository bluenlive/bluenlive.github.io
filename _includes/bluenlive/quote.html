<div class="quoteMachine">
  <div class="{% if include.align == 'center' %}theQuote{% else %}theQuoteLeft{% endif %}">
    <blockquote><span class="quotationMark quotationMark--left"></span>
      {% if include.content %}
        {% if include.content.first %}
          {%- for line in include.content -%}
            {{ line | markdownify | strip_newlines }}{% unless forloop.last %}<br/>{% endunless %}
          {%- endfor -%}
        {% else %}
          {% comment %}
            문자열일 경우: 먼저 || 를 임시 토큰으로 치환 → split → 다시 | 로 복원
          {% endcomment %}
          {% assign safe_content = include.content | replace: '||', '§PIPE§' %}
          {% assign lines = safe_content | split:"|" %}
          {%- for line in lines -%}
            {{ line | replace: '§PIPE§','|' | markdownify | strip_newlines }}{% unless forloop.last %}<br/>{% endunless %}
          {%- endfor -%}
        {% endif %}
      {% endif %}
      <span class="quotationMark quotationMark--right"></span></blockquote>
  </div>
  {% if include.author %}
    <div class="quoteAuthor">
      - {{ include.author }}
    </div>
  {% endif %}
</div>