---
layout: single
#classes: wide
title: "AMD 라데온은 이제는 쓸만해졌는가?"
categories:
  - ITTalk
---

요즘 CPU의 대세는 AMD Ryzen 시리즈이다.  
인텔은 크르자니크의 공격를 아직도 제대로 수습하지 못하고 있다.

이 와중에 AMD는 그래픽 드라이버도 안정화되었다는 주장을 하며 **게임은 라데온**이라고 주장한다.  
그런데, 정말 이제는 쓸만해진 거 맞는 걸까?

## 과거의 문제들

라데온 드라이버가 **카탈리스트**라는 이름을 쓰던 시절이 있었다.  
이 시절에는 드라이버가 무려 **윈도우 내장 드라이버와 충돌**하는 수준을 보여줬었다.  
이를 해결하기 위한 방법이 유튜브에 많이 올라올 정도로 **대중적인**(?) 문제였다.

요즘은 이 이슈가 언급되지 않는 걸 보면 이제 어느 정도 해결은 된 것 같다.

게임 프리징 이슈도 있었다.  
드라이버 버전에 따라 게임이 **프리징**되는 경우도 있었다.

## 비디오 인코더 성능

종종 얘기하듯이 난 게임을 거의 안 한다.  
나에게 중요한 건 **비디오 인코딩** 성능이다.

**RTX 4060Ti**를 아무 문제 없이 잘 쓰고 있었는데, 괜한 **지름신**이 강림했다.  
그래서 **RX 7700XT**를 구매했다.

그리고 이전에 수행했던 테스트와 동일한 테스트를 수행했다.  
익히 알려져있다시피 **RDNA3** 아키텍처는 **H.264, HEVC, AV1 인코딩**을 지원한다.

그리고 테스트를 수행해보니... **10bit 인코딩을 지원하지 않는다**.

<div class="quoteMachine">
  <div class="theQuoteLeft">
    <blockquote><span class="quotationMark quotationMark--left"></span >
아니, 리사 수 누님 이게 뭡니까?
    <span class="quotationMark quotationMark--right"></span ></blockquote>
  </div>
</div>

일단 당황스러움을 뒤로 하고 테스트를 수행했다.

일단 **H.264 인코딩** 결과는 아래와 같다.  
x264에 비해서 조금 더 나은 성능을 보여준다.  
그런데, nvenc보다 살짝 뒤쳐진다.

![image](</images/2024-06-24/1_H264s64_Q.png>){: .align-center}

다음은 **HEVC 인코딩** 결과이다.  
nvenc보다 좀 더 나은 성능을 보여준다.  
그런데, 다른 S/W 솔루션에 비해서는 조금 뒤쳐진다.

![image](</images/2024-06-24/2_HEVCs64_Q.png>){: .align-center}

기대했던 건 역시 **AV1 인코딩**이었다.  
SVT-AV1 보다는 살짝 떨어지지만, 충분히 훌륭한 성능을 보여준다.  
아쉬운 점이 있다면, **MainConcept의 HEVC 인코딩과 큰 차이가 없다**는 점이다.

하지만, 진짜 문제는 따로 있었는데...

![image](</images/2024-06-24/3_AV1s64_Q.png>){: .align-center}
*이 그래프만으론 훌륭해 보이지만, 이게 전부가 아님*

RX 7700XT의 인코딩 결과끼리 **비교**해보면 아래와 같다.  
꽤 상식적인 결과를 보여준다.  
이 정도 성능이면 비디오 인코더로 사용하기에는 큰 무리가 없어 보인다.

![image](</images/2024-06-24/4_AMFs64_Q.png>){: .align-center}

비교 대상을 모두 그려보면 아래와 같다.

![image](</images/2024-06-24/5_alls64_Q.png>){: .align-center}

## 하지만 진짜 문제는…

### 모니터 회전 시 마우스 커서 오류

비디오 드라이버가 **안정화**되었다는 얘기가 있었지만, 크게 동의하기 어렵다.  
일단 **모니터 회전** 문제가 있다.

나는 듀얼 모니터를 한 대는 세로로, 한 대는 가로로 사용한다.  
그리고, 세로로 사용하는 모니터에는 마우스 커서가 아래와 같이 보인다.

![image](</images/2024-06-24/20240624_130506400_iOSs64.jpg>){: .align-center}
*옆으로 드러누워버린 마우스 커서*

이 문제는 조건에 따라서는 우회가 가능하다.  
**포인터 그림자 사용** 기능을 켜면 상당 부분 해결된다.  
하지만, 이걸로 100% 해결할 수 있는 건 아니며, **조건에 따라서 문제가 발생**한다.

### 모니터 위치 저장 오류

나 처럼 듀얼 모니터를 사용하는 경우에는 모니터 위치를 조절해야 한다.  
그리고, 이걸 저장하려면... **“짜잔!”** 아래와 같은 오류가 발생한다.

![image](</images/2024-06-24/fails64_Q.png>){: .align-center}
*모니터 위치를 저장하다니 용서할 수 없다!*

### AV1 인코딩 H/W 오류

AV1으로 인코딩 하는 경우 화면의 우측과 하단에 **블랙 바가 추가**되는 오류가 있다.  
이게 문제가 되는 것이 예를 들면, 아주 흔한 해상도인 **1920x1080**에서도 발생한다.  
1920x1080 영상을 인코딩하면 **1920x1082**로 저장된다.

이 문제는 펌웨어 업데이트나 드라이버 업데이트로 해결되지 않는다.  
그야말로 하드웨어에 박혀있는 **해결 불가능한 문제**다.

이 문제를 우회하기 위해 `ffmpeg`에서는 `align` 옵션을 지원하고 있다 ([관련 링크](https://trac.ffmpeg.org/wiki/Encode/AV1#Align){:target="_blank"}).  
하지만, 이건 그야말로 우회로에 불과하다.  
일단 특정 해상도에서만 동작하며, **다른 해상도에서는 동작하지 않는다**.

H.264나 HEVC 처럼 metadata에 crop 정보를 기록할 수도 없다.

<div class="quoteMachine">
  <div class="theQuoteLeft">
    <blockquote><span class="quotationMark quotationMark--left"></span >
AMD 라데온은 아직도 쓸만해지기는 멀었다.
    <span class="quotationMark quotationMark--right"></span ></blockquote>
  </div>
</div>
